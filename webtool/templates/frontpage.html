{% extends "layout.html" %}

{% block body_class %}plain-page frontpage {{ body_class }}{% endblock %}

{% block body %}
    <article>
        <section>
            <div>
                <h2><span>What is 4CAT?</span></h2>
                <p>4CAT is a software suite for capture and analysis of thread-based platforms, created and run by
                    <a href="https://oilab.eu">OILab</a> at the University of Amsterdam as part of the ERC-funded
                    <a href="https://www.odycceus.eu">ODYCCEUS</a> project.</p>
                <p>It is currently under development. At this time, you can use it to <a href="/tool/">query</a> select
                    boards of 4chan, Reddit and 8chan. We welcome feedback: mail us at
                    <a href="mailto:4cat@oilab.eu">4cat@oilab.eu</a>.</p>
            </div>

            <div>
                <h2><span>Updates</span></h2>
                <ol>
                    <li><time>2 May 2019</time> Reddit is now available as a data source capture and analysis. This data is
                        sourced from the <a href="https://pushshift.io">Pushshift</a> API.</li>
                    <li><time>6 Feb 2019</time> Result pages now include a preview of the posts found, so you can get a
                        quick impression of what your query returned.</li>
                    <li><time>29 Jan 2019</time> We've upgraded our server hardware and rebuilt the search indexes; the
                        full corpus of posts is now once again available.</li>
                    <li><time>18 Jan 2019</time> Added 8chan as a data source. The boards <code>pol</code>,
                        <code>leftypol</code>, <code>v</code> and <code>brit</code> will be scraped.</li>
                    <li><time>11 Jan 2019</time> Added the <code>lgbt</code> board to the 4chan scraper.</li>
                </ol>
            </div>
        </section>

        <aside>
            <div>
                <h2><span>Available data sources</span></h2>
                <p>The following data sources and boards are currently available for analysis:</p>
                <ul class="datasource-list">
            {% if stats %}
                {% for datasource in datasources %}{% if datasource != "overall" %}
                    <li>
                        {{ datasource|capitalize }}{% if datasource in stats %} ({{ stats[datasource]["posts"]|numberify }} posts since {{ stats[datasource]["first"]|datetime('%-d %b %Y') }}){% endif %}
                        {% if "boards" in datasources[datasource] and datasources[datasource]["boards"] != "*" and datasources[datasource]["boards"] != ["*"] %}
                        <ul>
                        {% for board in datasources[datasource]["boards"]|sort %}
                            <li>{{ board }}</li>
                        {% endfor %}
                        </ul>
                        {% endif %}
                    </li>
                {% endif %}{% endfor %}
            {% else %}
                    {% for datasource in datasources %}
                        {% if "boards" in datasources[datasource] and datasources[datasource]["boards"] %}
                            <li>
                                {{ datasource }}
                                <ul>
                                {% for board in boards[datasource]["boards"] %}
                                    <li>{{ board }}</li>
                                {% endfor %}
                                </ul>
                            </li>
                        {% endif %}
                    {% endfor %}
            {% endif %}
                </ul>
            </div>
        </aside>
    </article>
{% endblock %}