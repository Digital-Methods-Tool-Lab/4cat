@import url('reset.css');
@import url('child-datasets.css');


/** --------------------- *
            Fonts
  * --------------------- */
@font-face {
    font-family: 'Open Sans';
    src: url("../fonts/OpenSans-Regular.ttf")
}

@font-face {
    font-family: 'Open Sans';
    font-weight: bold;
    src: url("../fonts/OpenSans-Bold.ttf")
}

@font-face {
    font-family: 'Open Sans';
    font-style: italic;
    src: url("../fonts/OpenSans-Italic.ttf")
}

@font-face {
    font-family: 'Open Sans';
    font-weight: bold;
    font-style: italic;
    src: url("../fonts/OpenSans-BoldItalic.ttf")
}

@font-face {
    font-family: 'Fixedsys';
    src: url("../fonts/fsex300-webfont.woff")
}

/** --------------------- *
      Colour definitions
  * --------------------- */
:root {
    --accent: #CE1B28;
    --highlight: #FF2231;
    --accent-alternate: #19B0A3;
    --gray-dark: #DFDFDF;
    --gray: #E9E9E9;
    --gray-light: #EEE;
    --contrast-bright: #F5F5F5;
    --contrast-dark: #21202E;
    --always-white: #FFF;
    --text: #37373C;
    --warning: var(--accent);
}


/** --------------------- *
     Basic HTML elements
  * --------------------- */
*, body, code, select, input, textarea {
    font-family: 'Open Sans', 'Trebuchet MS', sans-serif;
}

body {
    background: var(--contrast-bright);
    color: var(--text);
    line-height: 1.5em;
    padding-bottom: 5em;
}

a {
    color: var(--accent);
    text-decoration: none;
}

a:hover {
    color: var(--highlight);
    text-decoration: underline;
}

code {
    color: var(--accent-alternate);
    font-weight: bold;
}

em, strong {
    font-weight: bold;
}

table {
    margin: 1em auto;
    font-size: inherit;
    border-collapse: collapse;
    border: 2px solid var(--contrast-dark);
}

table td, table th {
    font-size: inherit;
    padding: 0 0.5em;
    border: 2px solid var(--contrast-dark);
}

table th {
    text-align: center;
    background: var(--accent-alternate);
    color: var(--contrast-bright);
    font-weight: bold;
    padding: 0 1em;
}


/** --------------------- *
            Forms
  * --------------------- */
select, input, textarea {
    background: var(--gray);
    border: 1px solid var(--gray);
    font: inherit;
    padding: 0.25em;
    max-width: 80%;
}

fieldset {
    border-bottom: 1px dotted var(--contrast-dark);
}

.form-element textarea {
    min-width: 25em;
    min-height: 6em;
}

.form-element {
    display: flex;
    align-items: center;
    min-height: 3.5em;
}

article.small .form-element {
    display: grid;
    grid-template-columns: 34% 66%;
}

.form-element > * {
    min-width: 11em;
    max-width: 80%;
}

article.small .form-element > * {
    min-width: 5em;
}

.form-element label {
    text-align: right;
    padding-right: 1em;
}

.submit-container {
    text-align: center;
    padding: 1em;
}

button, .button-like {
    border: 2px solid var(--contrast-dark);
    background: var(--contrast-bright);
    color: var(--text);
    border-radius: 0.5em;
    font-size: inherit;
    cursor: pointer;
    padding: 0.25em 1em;
}

button:hover, .button-like:hover {
    background: var(--accent);
    color: var(--contrast-bright);
}

.form-intro {
    margin-top: 1em;
}

.form-footer {
    text-align: center;
    margin-bottom: 1em;
}


/** --------------------- *
  Utility classes -> Lists
  * --------------------- */
nav > ul.flat {
    list-style: none;
}

nav > ul.flat > li {
    display: inline-block;
}

nav > ul.flat > li:not(:last-child)::after {
    content: '\2022';
    margin-left: 0.5em;
}



/** --------------------- *
          Tooltips
  * --------------------- */
*[role=tooltip], article p[role=tooltip] {
	display: none;
	background: var(--gray);
	color: var(--text);
	padding: 0.5em;
	box-sizing: border-box;
	position: absolute;
	max-width: 25em;
	border: 2px solid var(--contrast-dark);
}

*[role=tooltip].force-width, article p[role=toolip].force-width {
    min-width: 25em;
}

button.tooltip-trigger {
	font-size: 0.8em;
	position: relative;
	top: -0.1em;
    padding: 0 0.5em;
}


/** --------------------- *
         Site header
  * --------------------- */
h1 {
    background: var(--accent);
    color: var(--contrast-bright);
    text-align: center;
    font-size: 1.5em;
    font-weight: bold;
    padding: 0.75em 0;
}

h1 a {
    color: inherit;
    text-decoration: none;
}

.main-nav {
    background: var(--contrast-dark);
    margin-bottom: 2em;
    color: var(--contrast-bright);
    box-shadow: 0 5px 10px #888;
    border: 1em solid var(--contrast-dark);
    border-width: 0.4em 0;
}

.main-nav ul {
    list-style: none;
    text-align: center;
    margin: 0.25em 0;
}

.main-nav li {
    display: inline-block;
}

.main-nav li:not(:last-child):after {
    content: '\02022';
    margin-left: 0.5em;
}

.main-nav li a {
    color: inherit;
    text-decoration: none;
}

.main-nav li a:hover, .main-nav li a:focus {
    text-decoration: underline;
}


/** --------------------- *
         Site footer
  * --------------------- */
.fixed-footer {
    box-sizing: border-box;
    position: fixed;
    bottom: 0;
    background: var(--contrast-dark);
    color: var(--contrast-bright);
    padding: 0.6em 1em;
    width: 100%;
    text-align: right;
}

.fixed-footer a {
    color: inherit;
}


/** --------------------- *
      Basic page layout
  * --------------------- */
article, .block,
.article-ish {
    min-width: 350px;
    max-width: 75%;
    margin: 0 auto;
}

article.small {
    max-width: 50%;
}

article.with-aside {
    display: grid;
    grid-template-columns: 66% 34%;
    grid-column-gap: 1em;
}

article h2, .blocktitle {
    border-left: 0.5em solid var(--accent);
    background: var(--contrast-dark);
    color: var(--contrast-bright);
    text-align: center;
    font-size: 1.5em;
    font-weight: bold;
    padding: 0.5em 0;
}

article h2 a, .blocktitle a {
    color: inherit;
}

h4 {
    font-weight: bold;
}

h4.blocktitle {
    border-left: 0;
    text-align: left;
    font-size: 1em;
    padding-left: 1em;
}

article section h2:not(:first-child), article aside h2:not(:first-child) {
    margin-top: 1em;
}

article h2 + p {
    margin-top: 1em;
}

article h3:not(.blocktitle) {
    font-weight: bold;
    font-size: 1.25em;
    margin: 1.2em 0.8em 0.8em 0.8em;
}

article section, article aside,
.query.card  {
    background: var(--always-white);
    border: 1px solid var(--gray);
}

article p {
    margin: 0 1em 0.5em 1em;
}

ol li {
    padding: 1em;
}

ol li:nth-child(even) {
    background: var(--gray-light);
}

article section ul, article aside ul {
    list-style: disc outside;
    margin-left: 2.5em;
}

article section li p, article aside li p {
    margin-left: 0;
}

/** --------------------- *
          Pagination
  * --------------------- */
.pagination ol {
	list-style: none;
	margin: 0 auto;
	text-align: center;
	margin-top: 1em;
}

.pagination li {
	display: inline-block;
    padding: 0;
    margin-right: 0.5em;
}

.pagination li a {
	display: block;
}

.pagination li.page a, .pagination li.page .current {
	border: 2px solid var(--contrast-dark);
	padding: 0.25em;
	text-align: center;
	min-width: 2.25em;
	display: block;
	text-decoration: none;
}

.pagination li.page a:hover, .pagination li.page a:focus {
	background: var(--accent);
    color: var(--contrast-bright);
}

/** --------------------- *
   Pages -> Markdown pages
  * --------------------- */
.markdown-page section {
    padding-bottom: 1em;
}

/** --------------------- *
     Pages -> Front page
  * --------------------- */
.frontpage li time {
    font-weight: bold;
}

.frontpage li time::after {
    content: '\02022';
    margin-left: 0.5em;
}

/** --------------------- *
   Pages -> Create Dataset
  * --------------------- */
#query-status {
    text-align: center;
    margin: 1.5em 0 0 0;
    padding: 0.5em 1em;
}

#query-status.active {
    animation: scroll-background 2s linear infinite;
    background: repeating-linear-gradient(
            90deg,
            #E9E9E9,
            #E9E9E9 25px,
            #FFF 25px,
            #FFF 350px
    ) 0 0;
}

@keyframes scroll-background {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: 350px 0;
    }
}

/** --------------------- *
  Pages -> Results metadata
  * --------------------- */
.result .inline-label {
    color: var(--accent-alternate);
}

.property-badge {
    font-size: 0.6em;
    display: inline;
    border: 1px solid var(--contrast-dark);
    border-radius: 2px;
    padding: 0.1em 0.5em;
    position: relative;
    top: -1px;
	vertical-align: baseline;
}

.result .second-tier {
    color: var(--gray-dark);
}

.result .warning {
    color: var(--warning);
}

/** --------------------- *
  Pages -> Results overview
  * --------------------- */
.result-list .view-controls {
    margin: 0 auto 0.5em auto;
    max-width: 75%;
    min-width: 350px;
    text-align: right;
}

.result-list .view-controls ul {
    list-style: none;
}

.result-list .view-controls * {
    display: inline-block;
}

.result-list p {
    margin-bottom: 0;
}

.result-list .no_results p {
    opacity: 0.5;
}

.result-list .no_results:hover p {
    opacity: 1;
}

.result-list .has_results {
    display: grid;
    grid-template-columns: auto 6em;
}

.result-list .has_results .analysis-button-container {
    grid-row: 1 / span 2;
    grid-column-start: 2;
    display: flex;
    justify-content: center;
    align-items: center;
}

.result-list .child-list > li {
    padding: 0;
    margin: 0.5em 0 0 0;
}


/** --------------------- *
   Pages -> Result details
    This is the big one!
  * --------------------- */
/* processor list */
.processor-list li form {
    display: grid;
    grid-template-columns: auto 8em;
    grid-template-rows: auto auto;
}

.processor-list .queue-button-wrap {
    text-align: center;
    align-self: center;
}

.processor-list .processor-drilldown {
    grid-column: 1 / span 2;
}

.processor-list li .processor-options {
	padding: 0 1em;
	transition: 0.25s;
	overflow: hidden;
    border: 0;
}

.processor-list li.expanded .processor-options {
	margin-top: 0.5em;
    padding: 0;
}

.processor-list .processor-options label {
	display: block;
}

/* processor configuration options */
.processor-options h4 {
    background: var(--contrast-dark);
    color: var(--contrast-bright);
    text-align: center;
    padding: 0.25em;
}

.processor-options .options-wrapper {
    padding: 0.5em;
}

.processor-options {
    background: var(--gray-dark);
}

.processor-list li:nth-child(odd) .processor-options {
    background: var(--gray-light);
}

.processor-options label {
    min-height: 2em;
    display: block;
}

.processor-options .multichoice-wrapper {
    border-left: 2px solid var(--contrast-dark);
    padding-left: 0.5em;
    margin: 0.5em 0 0 0.5em;
}

/** processor further analysis tree overview */
.processor-tree {
	margin-top: 1em;
}

.processor-tree ul {
	vertical-align: top;
	list-style: none;
	padding: 0;
    margin: 0 0 0.5em 0;
	position: relative;
	box-sizing: border-box;
	transition: 0.25s;
}

.processor-tree ul[aria-expanded=false] {
	height: 0;
	opacity: 0;
	overflow: hidden;
}

.processor-tree ul[aria-expanded=true] {
	height: auto;
	opacity: 1;
	font-style: normal;
}

.processor-tree li {
	padding: 0;
	border: 0;
}
.processor-tree > ul > li::before {
	display: inline-block;
	content: '';
	border-left: 2px dotted var(--contrast-dark);
	border-bottom: 2px dotted var(--contrast-dark);
	width: 0.75em;
	height: 0.75em;
	vertical-align: top;
	margin-left: 1em;
}

.processor-tree > ul > li > ul, .processor-tree > ul > li > span {
	display: inline-block;
}

.processor-tree ul > li > span::before {
	content: '\02192'; /* arrow */
}

.processor-tree > ul > li > span::before {
	content: none;
}

/** result card **/
.metadata-wrapper {
    margin: 1em;
}

.metadata-wrapper p:not(:last-child) {
    margin-bottom: 0.5em;
}

/** processor result preview **/
iframe.query-result-iframe {
	width: 90%;
	margin: 0 auto;
	height: 40em;
	display: block;
	border: 1px dashed var(--contrast-dark);
}

.query-result {
    padding-bottom: 0.5em;
}

iframe.query-result-iframe.csvfile {
	height: 11em;
}

.child.focus:not(.card) > .sub-controls > .query-result > .query-result-iframe {
	display: none;
}

img.details-only, embed.details-only {
	max-width: 75%;
	margin: 0 auto;
    display: block;
}

embed.details-only, embed.details-only svg {
    cursor: grab;
}

.csv-preview .warning {
    width: 100%;
    background: var(--gray-dark);
    text-align: center;
}

.csv-preview table {
    margin: 0;
    min-width: 100%;
    border: 0;
}

.csv-preview td:first-child, th:first-child {
    border-left: 0;
}

.csv-preview td:last-child, th:last-child {
    border-right: 0;
}